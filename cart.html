<html lang="fr">

<head>
    <title>RedStore | Panier</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>

    <div class="container">
        <div class="navbar">
            <div class="logo">
                <a href="index.html"><img src="img/logo.png" width="125"></a>
            </div>
            <nav>
                <ul id="MenuItems">
                    <li><a href="index.html">Accueil</a></li>
                    <li><a href="products.html">Produits</a></li>
                    <li><a href="nous.html">A propos</a></li>
                    <li><a href="contact.html">Contacts</a></li>
                    <li><a href="account.html">Mon compte</a></li>
                </ul>
            </nav>
            <a href="cart.html"><img src="img/cart.png" width="30px" height="30px"></a>
            <img src="img/menu.png" class="menu-icon" onclick="menutoggle()">
        </div>
    </div>

    <div class="small-container cart-page">
        <table>
            <tr>
                <th>Produit</th>
                <th>Quantité</th>
                <th>Total HT</th>
            </tr>
            <tr id="item1">
                <td>
                    <div class="cart-info">
                        <img src="img/buy-1.jpg">
                        <div>
                            <p>T-Shirt PUMA</p>
                            <small>Prix : 50€</small>
                            <br>
                            <button onclick="deleteItem('item1')">Supprimer</button>
                        </div>
                    </div>
                </td>
                <td><input type="number" value="1" min="1" id="qtsItem1"></td>
                <td id="prixItem1">50€</td>
            </tr>
            <tr id="item2">
                <td>
                    <div class="cart-info">
                        <img src="img/buy-2.jpg">
                        <div>
                            <p>Baskets HRX</p>
                            <small>Prix : 50€</small>
                            <br>
                            <button onclick="deleteItem('item2')">Supprimer</button>
                        </div>
                    </div>
                </td>
                <td><input type="number" value="1" min="1" id="qtsItem2"></td>
                <td id="prixItem2">50€</td>
            </tr>
            <tr id="item3">
                <td>
                    <div class="cart-info">
                        <img src="img/buy-3.jpg">
                        <div>
                            <p>Jogging Gris</p>
                            <small>Prix : 50€</small>
                            <br>
                            <button onclick="deleteItem('item3')">Supprimer</button>
                        </div>
                    </div>
                </td>
                <td><input type="number" value="1" min="1" id="qtsItem3"></td>
                <td id="prixItem3">50€</td>
            </tr>
        </table>
        <div class="total-price">
            <table>
                <tr>
                    <td>Sous-Total</td>
                    <td id="sous-total">150€</td>
                </tr>
                <tr>
                    <td>Taxe</td>
                    <td>20%</td>
                </tr>
                <tr>
                    <td>Total</td>
                    <td id="total">185€</td>
                </tr>
            </table>
        </div>
    </div>

    <div class="small-container payer">
        <a href="" class="btn"
            onclick="alert('Merci de votre achat ! \nTotal Payé : ' + document.getElementById('total').innerHTML)">PAYER</a>
    </div>

    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="footer-col-1">
                    <h3>Télécharger Notre Application</h3>
                    <p>Compatible Android Et IOS</p>
                    <div class="app-logo">
                        <img src="img/play-store.png">
                        <img src="img/app-store.png">
                    </div>
                </div>
                <div class="footer-col-2">
                    <img src="img/logo-white.png">
                    <p>Nous Proposons Un Service De Qualité</p>
                </div>
                <div class="footer-col-3">
                    <h3>Liens</h3>
                    <ul>
                        <li>Coupons</li>
                        <li>Blog</li>
                        <li>Politique De Retour</li>
                        <li>Affiliation</li>
                    </ul>
                </div>
                <div class="footer-col-4">
                    <h3>Nous suivre</h3>
                    <ul>
                        <li>Facebook</li>
                        <li>Twitter</li>
                        <li>Instagram</li>
                        <li>YouTube</li>
                    </ul>
                </div>
                <hr>
                <p class="copyright">Copyright 2021 - Projet M4105C</p>
            </div>
        </div>
    </div>

    <script>
        var MenuItems = document.getElementById("MenuItems");

        if (window.innerWidth > 800)
            MenuItems.style.maxHeight = "auto";
        else
            MenuItems.style.maxHeight = "0px";

        window.addEventListener("resize", function (event) {
            window.location.reload(true);
        });

        function menutoggle() {
            if (MenuItems.style.maxHeight == "0px") {
                MenuItems.style.maxHeight = "200px";
            } else {
                MenuItems.style.maxHeight = "0px";
            }
        }
    </script>

    <script>
        var item1Alive = 1;
        var item2Alive = 1;
        var item3Alive = 1;

        function deleteItem(id) {
            var item = document.getElementById(id);
            item.parentNode.removeChild(item);
            if (id == "item1" && item2Alive == 1 && item3Alive == 1) {
                update(null, (prixUnityItem2 * document.getElementById("qtsItem2").value), (prixUnityItem3 * document.getElementById("qtsItem3").value));
                item1Alive = 0;
            } else if (id == "item2" && item1Alive == 1 && item3Alive == 1) {
                update((prixUnityItem1 * document.getElementById("qtsItem1").value), null, (prixUnityItem3 * document.getElementById("qtsItem3").value));
                item2Alive = 0;
            } else if (id == "item3" && item2Alive == 1 && item1Alive == 1) {
                update((prixUnityItem1 * document.getElementById("qtsItem1").value), (prixUnityItem2 * document.getElementById("qtsItem2").value), null);
                item3Alive = 0;
            } else if (id == "item1" && item2Alive == 1 && item3Alive == 0) {
                update(null, (prixUnityItem2 * document.getElementById("qtsItem2").value), null);
                item1Alive = 0;
            } else if (id == "item1" && item2Alive == 0 && item3Alive == 1) {
                update(null, null, (prixUnityItem3 * document.getElementById("qtsItem3").value));
                item1Alive = 0;
            } else if (id == "item1" && item2Alive == 0 && item3Alive == 0) {
                update(null, null, null);
                item1Alive = 0;
            } else if (id == "item2" && item1Alive == 1 && item3Alive == 0) {
                update((prixUnityItem1 * document.getElementById("qtsItem1").value), null, null);
                item2Alive = 0;
            } else if (id == "item2" && item1Alive == 0 && item3Alive == 1) {
                update(null, null, (prixUnityItem3 * document.getElementById("qtsItem3").value));
                item2Alive = 0;
            } else if (id == "item2" && item1Alive == 0 && item3Alive == 0) {
                update(null, null, null);
                item2Alive = 0;
            } else if (id == "item3" && item1Alive == 1 && item2Alive == 0) {
                update((prixUnityItem1 * document.getElementById("qtsItem1").value), null, null);
                item3Alive = 0;
            } else if (id == "item3" && item1Alive == 0 && item2Alive == 1) {
                update(null, (prixUnityItem2 * document.getElementById("qtsItem2").value), null);
                item3Alive = 0;
            } else if (id == "item3" && item1Alive == 0 && item2Alive == 0) {
                update(null, null, null);
                item3Alive = 0;
            }
        }
    </script>

    <script>
        const prixUnityItem1 = 50;
        const prixUnityItem2 = 50;
        const prixUnityItem3 = 50;

        document.getElementById("qtsItem1").onchange = function () {
            document.getElementById("prixItem1").innerHTML = (prixUnityItem1 * document.getElementById("qtsItem1").value) + "€";
            if (item2Alive == 0 && item3Alive == 1)
                update((prixUnityItem1 * document.getElementById("qtsItem1").value), null, (prixUnityItem3 * document.getElementById("qtsItem3").value));
            else if (item2Alive == 1 && item3Alive == 0)
                update((prixUnityItem1 * document.getElementById("qtsItem1").value), (prixUnityItem2 * document.getElementById("qtsItem2").value), null);
            else if (item2Alive == 0 && item3Alive == 0)
                update((prixUnityItem1 * document.getElementById("qtsItem1").value), null, null);
            else
                update((prixUnityItem1 * document.getElementById("qtsItem1").value), (prixUnityItem2 * document.getElementById("qtsItem2").value), (prixUnityItem3 * document.getElementById("qtsItem3").value));
        }
        document.getElementById("qtsItem2").onchange = function () {
            document.getElementById("prixItem2").innerHTML = (prixUnityItem2 * document.getElementById("qtsItem2").value) + "€";
            if (item1Alive == 0 && item3Alive == 1)
                update(null, (prixUnityItem2 * document.getElementById("qtsItem2").value), (prixUnityItem3 * document.getElementById("qtsItem3").value));
            else if (item1Alive == 1 && item3Alive == 0)
                update((prixUnityItem1 * document.getElementById("qtsItem1").value), (prixUnityItem2 * document.getElementById("qtsItem2").value), null);
            else if (item1Alive == 0 && item3Alive == 0)
                update(null, (prixUnityItem2 * document.getElementById("qtsItem2").value), null);
            else
                update((prixUnityItem1 * document.getElementById("qtsItem1").value), (prixUnityItem2 * document.getElementById("qtsItem2").value), (prixUnityItem3 * document.getElementById("qtsItem3").value));
        }
        document.getElementById("qtsItem3").onchange = function () {
            document.getElementById("prixItem3").innerHTML = (prixUnityItem3 * document.getElementById("qtsItem3").value) + "€";
            if (item1Alive == 0 && item2Alive == 1)
                update(null, (prixUnityItem2 * document.getElementById("qtsItem2").value), (prixUnityItem3 * document.getElementById("qtsItem3").value));
            else if (item1Alive == 1 && item2Alive == 0)
                update((prixUnityItem1 * document.getElementById("qtsItem1").value), null, (prixUnityItem3 * document.getElementById("qtsItem3").value));
            else if (item1Alive == 0 && item2Alive == 0)
                update(null, null, (prixUnityItem3 * document.getElementById("qtsItem3").value));
            else
                update((prixUnityItem1 * document.getElementById("qtsItem1").value), (prixUnityItem2 * document.getElementById("qtsItem2").value), (prixUnityItem3 * document.getElementById("qtsItem3").value));
        }
    </script>

    <script>
        function update(elem1, elem2, elem3) {
            if (elem1 == null) {
                document.getElementById("sous-total").innerHTML = (elem2 + elem3) + "€";
                document.getElementById("total").innerHTML = ((elem2 + elem3) + ((elem2 + elem3) * 20 / 100)) + "€";
            } else if (elem2 == null) {
                document.getElementById("sous-total").innerHTML = (elem1 + elem3) + "€";
                document.getElementById("total").innerHTML = ((elem1 + elem3) + ((elem1 + elem3) * 20 / 100)) + "€";
            } else if (elem3 == null) {
                document.getElementById("sous-total").innerHTML = (elem2 + elem1) + "€";
                document.getElementById("total").innerHTML = ((elem2 + elem1) + ((elem2 + elem1) * 20 / 100)) + "€";
            } else if (elem3 == null && elem1 == null) {
                document.getElementById("sous-total").innerHTML = (elem2) + "€";
                document.getElementById("total").innerHTML = ((elem2) + ((elem2) * 20 / 100)) + "€";
            } else if (elem3 == null && elem2 == null) {
                document.getElementById("sous-total").innerHTML = (elem1) + "€";
                document.getElementById("total").innerHTML = ((elem1) + ((elem1) * 20 / 100)) + "€";
            } else if (elem1 == null && elem2 == null) {
                document.getElementById("sous-total").innerHTML = (elem3) + "€";
                document.getElementById("total").innerHTML = ((elem3) + ((elem3) * 20 / 100)) + "€";
            } else if (elem1 == null && elem2 == null && elem3 == null) {
                document.getElementById("sous-total").innerHTML = (0) + "€";
                document.getElementById("total").innerHTML = (0) + "€";
            } else {
                document.getElementById("sous-total").innerHTML = (elem1 + elem2 + elem3) + "€";
                document.getElementById("total").innerHTML = ((elem1 + elem2 + elem3) + ((elem1 + elem2 + elem3) * 20 / 100)) + "€";
            }
        }
    </script>
</body>

</html>